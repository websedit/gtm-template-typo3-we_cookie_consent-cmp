___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "TYPO3 we_cookie_consent CMP",
  "categories": [
    "TAG_MANAGEMENT",
    "PERSONALIZATION"
  ],
  "brand": {
    "id": "github.com_websedit",
    "displayName": "websedit",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAA5CAYAAABzlmQiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk0NEQyNTlCNEUwNDExRUNCODA5QzVDMERCNDYwQUQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk0NEQyNTlDNEUwNDExRUNCODA5QzVDMERCNDYwQUQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTQ0RDI1OTk0RTA0MTFFQ0I4MDlDNUMwREI0NjBBRDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTQ0RDI1OUE0RTA0MTFFQ0I4MDlDNUMwREI0NjBBRDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5gAvEZAAAumklEQVR42ux9B5xV1Z3/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\u003d"
  },
  "description": "CMP Script Tag to control Google tools implemented on TYPO3 websites with EXT: \\\"we_cookie_consent\\\". Manage consent settings regarding Google Consent Mode.\\n\\nMore info at https://consent.websedit.de",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "PARAM_TABLE",
    "name": "defaultSettings",
    "displayName": "Default consent settings",
    "paramTableColumns": [
      {
        "param": {
          "type": "SELECT",
          "name": "ad_storage",
          "displayName": "ad_storage",
          "macrosInSelect": false,
          "selectItems": [
            {
              "value": "denied",
              "displayValue": "Denied"
            },
            {
              "value": "granted",
              "displayValue": "Granted"
            }
          ],
          "simpleValueType": true,
          "defaultValue": "denied",
          "help": "Marketing: Enables browser storage (such as cookies) related to advertising."
        },
        "isUnique": false
      },
      {
        "param": {
          "type": "SELECT",
          "name": "analytics_storage",
          "displayName": "analytics_storage",
          "macrosInSelect": false,
          "selectItems": [
            {
              "value": "denied",
              "displayValue": "Denied"
            },
            {
              "value": "granted",
              "displayValue": "Granted"
            }
          ],
          "simpleValueType": true,
          "help": "Statistics: Enables browser storage (such as cookies) related to analytics e.g. visit duration.",
          "defaultValue": "denied"
        },
        "isUnique": false
      },
      {
        "param": {
          "type": "SELECT",
          "name": "ad_user_data",
          "displayName": "ad_user_data",
          "macrosInSelect": false,
          "selectItems": [
            {
              "value": "denied",
              "displayValue": "Denied"
            },
            {
              "value": "granted",
              "displayValue": "Granted"
            }
          ],
          "simpleValueType": true,
          "help": "Marketing: Allows the collection of personal data for advertising purposes.",
          "defaultValue": "denied"
        },
        "isUnique": false
      },
      {
        "param": {
          "type": "SELECT",
          "name": "ad_personalization",
          "displayName": "ad_personalization",
          "macrosInSelect": false,
          "selectItems": [
            {
              "value": "denied",
              "displayValue": "Denied"
            },
            {
              "value": "granted",
              "displayValue": "Granted"
            }
          ],
          "simpleValueType": true,
          "help": "Marketing: Enables the use of personal data for advertising purposes such as remarketing or interest-based targeting.",
          "defaultValue": "denied"
        },
        "isUnique": false
      },
      {
        "param": {
          "type": "SELECT",
          "name": "personalization_storage",
          "displayName": "personalization_storage",
          "macrosInSelect": false,
          "selectItems": [
            {
              "value": "denied",
              "displayValue": "Denied"
            },
            {
              "value": "granted",
              "displayValue": "Granted"
            }
          ],
          "simpleValueType": true,
          "help": "Functional: Enables browser storage related to personalization e.g. video recommendations.",
          "defaultValue": "denied"
        },
        "isUnique": false
      },
      {
        "param": {
          "type": "SELECT",
          "name": "functionality_storage",
          "displayName": "functionality_storage",
          "macrosInSelect": false,
          "selectItems": [
            {
              "value": "denied",
              "displayValue": "Denied"
            },
            {
              "value": "granted",
              "displayValue": "Granted"
            }
          ],
          "simpleValueType": true,
          "help": "Functional: Enables browser storage that supports the functionality of the website or app e.g. language settings.",
          "defaultValue": "denied"
        },
        "isUnique": false
      }
    ],
    "newRowButtonText": "Add default settings",
    "editRowTitle": "Edit default settings"
  },
  {
    "type": "TEXT",
    "name": "wait_for_update",
    "displayName": "Wait for Update",
    "simpleValueType": true,
    "valueUnit": "milliseconds",
    "help": "Set how many miliseconds to wait before firing tags waiting for consent",
    "defaultValue": 2000,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "NON_NEGATIVE_NUMBER"
      }
    ]
  },
  {
    "type": "CHECKBOX",
    "name": "ads_data_redaction",
    "checkboxText": "Redact Ads Data",
    "simpleValueType": true,
    "help": "When ad data redaction is true and marketing cookies are denied, ad click identifiers sent in network requests by Google Ads and Floodlight tags will be redacted. Network requests will also be sent through a cookieless domain"
  },
  {
    "type": "CHECKBOX",
    "name": "url_passthrough",
    "checkboxText": "Enable URL passthrough",
    "simpleValueType": true,
    "help": "When using URL passthrough, a few query parameters may be appended to links as users navigate through pages on your website"
  },
  {
    "type": "TEXT",
    "name": "cookieName",
    "displayName": "Cookie ID to check",
    "simpleValueType": true,
    "help": "The cookie you want to check. Only change it if you are not using the standard cookie \"klaro\".",
    "alwaysInSummary": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const setDefaultConsentState = require('setDefaultConsentState');
const updateConsentState = require('updateConsentState');
const queryPermission = require('queryPermission');
const getCookieValues = require('getCookieValues');
const decodeUriComponent = require('decodeUriComponent');
const JSON = require('JSON');
const callInWindow = require('callInWindow');
const gtagSet = require('gtagSet');
const defaultSettings = data.defaultSettings || [];
const waitForUpdate = data.waitForUpdate;
const adsDataRedaction = data.ads_data_redaction;
const urlPassthrough = data.url_passthrough;
let hasDefaultState = false;
let cookieName;

/*
 *   Check if Cookie is set
 */
if (typeof data.cookieName !== 'undefined') {
    cookieName = data.cookieName;
} else {
    cookieName = 'klaro';
}
/*
 *   Called when consent changes. Assumes that consent object contains keys which
 *   directly correspond to Google consent types.
 */
const onUserConsent = (consent) => {
  const consentModeStates = {
    ad_storage: consent.adConsentGranted === "denied" ? 'denied' : 'granted',
    ad_user_data: consent.adUserDataConsentGranted === "denied" ? 'denied' : 'granted',
    ad_personalization: consent.adPersonalizationConsentGranted === "denied" ? 'denied' : 'granted',
    analytics_storage: consent.analyticsConsentGranted === "denied" ? 'denied' : 'granted',
    functionality_storage: consent.functionalityConsentGranted === "denied" ? 'denied' : 'granted',
    personalization_storage: consent.personalizationConsentGranted === "denied" ? 'denied' : 'granted',
    security_storage: 'granted',
  };
  updateConsentState(consentModeStates);
  /*
   * Optional settings using gtagSet
   */
  gtagSet({
    'ads_data_redaction': !!adsDataRedaction,
    'url_passthrough': !!urlPassthrough,
    'developer_id.dMjYxYj': true,
  });
};

// Set default consent state(s)
/*
 *   Executes the default command
 */
defaultSettings.forEach(settings => {
  const settingObject = {
    ad_storage: settings.ad_storage,
    ad_user_data: settings.ad_user_data,
    ad_personalization: settings.ad_personalization,
    analytics_storage: settings.analytics_storage,
    functionality_storage: settings.functionality_storage,
    personalization_storage: settings.personalization_storage,
    security_storage: 'granted',
  };
  // wait_for_update (ms) allows for time to receive visitor choices from the CMP
  if (waitForUpdate > 0) {
    settingObject.wait_for_update = waitForUpdate;
  }
  setDefaultConsentState(settingObject);
  /*
   * Optional settings using gtagSet
   */
  gtagSet({
    'ads_data_redaction': !!adsDataRedaction,
    'url_passthrough': !!urlPassthrough,
    'developer_id.dMjYxYj': true,
  });
});

if(defaultSettings.length > 0) {
    hasDefaultState = true;
}

// Fallback to opt-out if no global default consent state has been defined in settings
if(!hasDefaultState) {
  setDefaultConsentState({
    ad_storage: 'denied',
    ad_user_data: 'denied',
    ad_personalization: 'denied',
    analytics_storage: 'denied',
    functionality_storage: 'denied',
    personalization_storage: 'denied',
    security_storage: 'granted'
  });
}

/*
 * Sets up the consent update callback
 */
const main = () => {
  // Check if cookie or dataLayer is set and has values that correspond to Google consent types.
  // If it does, run onUserConsent().

  // A) Read consent states from the cookie
  let cookieValues;
  if (queryPermission('get_cookies', cookieName)) {
    cookieValues = getCookieValues(cookieName);
  }
  if (typeof cookieValues !== 'undefined' && cookieValues.length > 0) {
    let consentString = cookieValues[0];
    
    if (consentString) {
      // Cookie available - process its content
      let decodedConsentString = decodeUriComponent(consentString);
      let cookieData = JSON.parse(decodedConsentString);
    
      // Set values to google consent types
      const consentData = {
        adConsentGranted: cookieData.ad_storage,
        adUserDataConsentGranted: cookieData.ad_user_data,
        adPersonalizationConsentGranted: cookieData.ad_personalization,
        analyticsConsentGranted: cookieData.analytics_storage,
        functionalityConsentGranted: cookieData.functionality_storage,
        personalizationConsentGranted: cookieData.personalization_storage,
        // Important: security_storage is set to granted as default
        securityConsentGranted: true
      };
      onUserConsent(consentData);
    }
  } else if (data.we_consent_state) {
    // B) No cookie available: Fallback to payload of the custom event
    const cs = data.we_consent_state;
    const consentData = {
      adConsentGranted                : cs.ad_storage,
      adUserDataConsentGranted        : cs.ad_user_data,
      adPersonalizationConsentGranted : cs.ad_personalization,
      analyticsConsentGranted         : cs.analytics_storage,
      functionalityConsentGranted     : cs.functionality_storage,
      personalizationConsentGranted   : cs.personalization_storage,
      securityConsentGranted          : true,
    };
    onUserConsent(consentData);
  }
  data.gtmOnSuccess();
};


main();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "gtagSet"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "addConsentListenerKlaro"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "wait_for_update"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "write_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "ads_data_redaction"
              },
              {
                "type": 1,
                "string": "url_passthrough"
              },
              {
                "type": 1,
                "string": "developer_id.dMjYxYj"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []
setup: |-
  const mockData = {
    state: 'default',
    consentType: [{
      ad_storage: 'granted',
      analytics_storage: 'denied',
      personalization_storage: 'denied',
      wait_for_update: 500,
      regions: 'all'
    },{
      ad_storage: 'denied',
      analytics_storage: 'granted',
      personalization_storage: 'granted',
      wait_for_update: 1000,
      regions: 'ES, US-AK'
    }],
    update_analytics_storage: 'granted',
    update_ad_storage: 'denied',
    update_personalization_storage: 'granted',
    url_passthrough: true,
    ads_data_redaction: true,
    sendDataLayer: false
  };


___NOTES___

we_cookie_consent CMP Tag v1.0
* Initial version


